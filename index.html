<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>motivated feedback generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-blue-50 via-blue-100 to-blue-200 flex items-center justify-center min-h-screen p-4 font-sans text-right">

    <div class="w-full max-w-3xl bg-white/95 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-blue-200">
        <h1 class="text-3xl font-bold text-center mb-6 text-blue-700">motivated feedback generator</h1>
        <p class="text-center text-blue-600 mb-8 leading-relaxed">
            Write any random feedback
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div>
                <label for="chapter" class="block text-blue-800 font-medium mb-2">chapter number</label>
                <input type="number" id="chapter" class="w-full p-3 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-right" min="1" placeholder="Example: 1">
            </div>
            <div>
                <label for="classWork" class="block text-blue-800 font-medium mb-2">Homework/Class Number</label>
                <input type="number" id="classWork" class="w-full p-3 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-right" min="1" placeholder="Example: 5">
            </div>
        </div>

        <div class="mb-6">
            <label for="inputText" class="block text-blue-800 font-medium mb-2">
                Original feedback
            </label>
            <textarea
                id="inputText"
                class="w-full h-32 p-4 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none text-right"
                placeholder="Example: Ø§Ù„ÙƒÙ„Ø§Ø³ ÙˆØ±Ùƒ Ù…Ø­Ù„ÙˆÙ„ ØªÙ…Ø§Ù… ÙˆØ§Ù„Ù†ÙˆØªØ³ Ù…ÙƒØªÙˆØ¨Ù‡ Ø¨Ø³ Ù…Ø´ Ù„ÙƒÙ„ Ø§Ù„Ø§Ø³Ø¦Ù„Ù‡....Ø§Ù„ÙˆØ§Ø¬Ø¨ Ù…Ø­Ù„ÙˆÙ„ ØµØ­ ÙˆØ¨Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø¨Ø³ Ù…Ø´ Ù…Ø¨Ø¹ÙˆØª ÙƒØ§Ù…Ù„"
            ></textarea>
        </div>

        <div class="mb-6">
            <label for="assistantName" class="block text-blue-800 font-medium mb-2">Assistant name </label>
            <input type="text" id="assistantName" class="w-full p-3 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-right" placeholder="Example: eng.Jana">
        </div>

        <button
            id="rephraseButton"
            class="w-full py-3 px-4 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-200 disabled:bg-blue-300"
        >
            Generate
        </button>

        <div id="error-message" class="mt-6 p-4 bg-red-100 border border-red-300 rounded-lg text-red-700 hidden">
            <p class="font-semibold">Error:</p>
            <p id="error-text"></p>
        </div>

        <div id="rephrased-output" class="mt-8 p-6 bg-blue-50 border border-blue-300 rounded-lg shadow-inner hidden">
            <h2 class="text-xl font-semibold text-blue-700 mb-3">After generation</h2>
            <p id="rephrased-text" class="text-blue-900 leading-relaxed whitespace-pre-line"></p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const classWorkInput = document.getElementById('classWork');
        const chapterInput = document.getElementById('chapter');
        const inputTextarea = document.getElementById('inputText');
        const assistantNameInput = document.getElementById('assistantName');
        const rephraseButton = document.getElementById('rephraseButton');
        const rephrasedOutput = document.getElementById('rephrased-output');
        const rephrasedText = document.getElementById('rephrased-text');
        const errorMessage = document.getElementById('error-message');
        const errorText = document.getElementById('error-text');

        rephraseButton.addEventListener('click', async () => {
            const chapter = chapterInput.value.trim();
            const classWork = classWorkInput.value.trim();
            const feedback = inputTextarea.value.trim();
            const assistantName = assistantNameInput.value.trim() || 'Ø§Ø³Ù… Ø§Ù„Ø§Ø³ÙŠØ³ØªÙ†Øª';

            if (!classWork || !chapter || !feedback) {
                errorMessage.classList.remove('hidden');
                errorText.textContent = 'Please fill all fields (class work, chapter, and feedback).';
                rephrasedOutput.classList.add('hidden');
                return;
            }

            rephraseButton.disabled = true;
            rephraseButton.textContent = 'Generating...';
            errorMessage.classList.add('hidden');
            rephrasedOutput.classList.add('hidden');

            const prompt = `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ ØªØ¯Ø±ÙŠØ³ Ù„Ù…Ø§Ø¯Ø© Ø§Ù„ÙƒÙŠÙ…ÙŠØ³ØªØ±ÙŠ. Ù…Ù‡Ù…ØªÙƒ ØªØ­ÙˆÙŠÙ„ Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø© Ø³Ù„Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø±Ø³Ø§Ù„Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ© Ø¨Ø³ÙŠØ·Ø© ÙˆÙˆØ¯ÙŠØ© Ø¨Ø§Ù„Ø¹Ø§Ù…ÙŠØ© Ø§Ù„Ù…ØµØ±ÙŠØ©. 
Ø®Ù„ÙŠ Ø§Ù„ÙƒÙ„Ø§Ù… Ù‡Ø§Ø¯ÙŠ Ù…Ù† ØºÙŠØ± Ù…Ø¨Ø§Ù„ØºØ© ÙÙŠ Ø§Ù„Ø¹Ø§Ø·ÙØ© (Ù…Ù† ØºÙŠØ± ÙŠØ§ Ø¨Ø·Ù„Ø© Ø£Ùˆ Ù‚Ù„ÙˆØ¨ ÙƒØªÙŠØ±)ØŒ ÙŠÙƒÙÙŠ ÙŠÙƒÙˆÙ† ÙÙŠÙ‡ ØªØ´Ø¬ÙŠØ¹ Ø¨Ø³ÙŠØ· Ø²ÙŠ "Ø¨Ø±Ø§ÙÙˆ Ø¹Ù„ÙŠÙƒ ğŸ‘". 
Ø§Ø¬Ø¹Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù‚ØµÙŠØ±Ø©ØŒ ÙˆØ¯ÙŠØ©ØŒ ÙˆØ¨Ù†Ù‡Ø§ÙŠØ© Ù…Ø´Ø¬Ø¹Ø© Ø¹Ø§Ø¯ÙŠØ©.

Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù‡ÙŠ: ${feedback}
Ø§Ù„Ù…Ø®Ø±Ø¬: `;

            try {
                const payload = {
                    contents: [{ parts: [{ text: prompt }] }]
                };

                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=AIzaSyANrG0AWkE2tcSezEUjF3chlgnA5am8eZY`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const result = await response.json();
                const rephrased = result?.candidates?.[0]?.content?.parts?.[0]?.text;
                
                if (rephrased) {
                    const finalMessage = `
Ù…ÙƒØªØ¨ Ø¯ÙƒØªÙˆØ± Ù†Ø§ØµØ± Ø§Ù„Ø¨Ø·Ù„ Ù„Ù…Ø§Ø¯Ø© Ø§Ù„ Chemistry ÙŠØ±Ø­Ø¨ Ø¨ÙƒÙ… â¤ï¸
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
Ø§Ù„Ø£ÙˆÙ„ Ø·Ø¨Ø¹Ù‹Ø§ Ø­Ø§Ø¨Ø¨ Ø£Ø´ÙƒØ±Ùƒ Ø¹Ù„Ù‰ Ø§Ù„ØªØ²Ø§Ù…Ùƒ Ø¥Ù†Ùƒ Ø¨Ø¹Øª Ø§Ù„ÙƒÙ„Ø§Ø³ ÙˆØ±Ùƒ ÙˆØ§Ù„Ù‡ÙˆÙ… ÙˆØ±Ùƒ ğŸ‘

Class work lesson ( ${classWork} ) chapter ( ${chapter} )
Homework lesson ( ${classWork} ) chapter ( ${chapter} )

Ùˆ Ø­Ø§Ø¨Ø¨ Ø£Ù‚ÙˆÙ„Ùƒ Ø¥Ù† Ø§Ù„ÙÙŠØ¯Ø¨Ø§Ùƒ Ø¹Ù„Ù‰ Ø§Ù„ÙØ§ÙŠÙ„ Ø¨ØªØ§Ø¹Ùƒ ÙƒØ§Ù†:

${rephrased.trim()}

Ù…Ø¨Ø³ÙˆØ·ÙŠÙ† Ø¬Ø¯Ù‹Ø§ Ø¥Ù†Ùƒ Ø¨ØªØ­Ø§ÙˆÙ„ ÙŠØ§ Ø¨Ø·Ù„ Ø§Ø­Ù†Ø§ Ù…Ø¹Ø§Ùƒ ÙˆÙ‡Ø¯ÙÙ†Ø§ Ù†Ø³Ø§Ø¹Ø¯Ùƒ Ø¯Ø§ÙŠÙ…Ù‹Ø§ Ø¥Ù†Ù‡ ÙŠÙƒÙˆÙ† ÙÙŠÙ‡ ØªØ·ÙˆØ± â¤ï¸

${assistantName}`;
                    
                    rephrasedOutput.classList.remove('hidden');
                    rephrasedText.textContent = finalMessage;
                } else {
                    errorMessage.classList.remove('hidden');
                    errorText.textContent = 'Server communication error. Please try again.';
                }
            } catch (e) {
                errorMessage.classList.remove('hidden');
                errorText.textContent = 'Unexpected error. Please check your internet connection and try again.';
            } finally {
                rephraseButton.disabled = false;
                rephraseButton.textContent = 'Generate another message';
            }
        });
    });
    </script>
</body>
</html>
